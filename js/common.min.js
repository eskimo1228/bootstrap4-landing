!function(a){a(document).ready(function(){function e(e,t){e.preventDefault();var o=a(t),n={};a.each(t.elements,function(e,t){var o=a(t);"checkbox"!==o.attr("type")&&"submit"!==o.attr("type")&&(n[o.attr("name")]=o.val()),delete n.undefined}),a.ajax({url:"/api/account/signup",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n),success:function(a){var e="authorization_token",t="refresh_authorization_token",o="expiration_token_date";console.log(typeof a),function(a){localStorage.setItem(o,new Date(Date.now()+1e3*a.expires_in).toString()),localStorage.setItem(e,"Bearer "+a.access_token),localStorage.setItem(t,a.refresh_token)}(a),window.location.replace("/app/my")},error:function(e){console.log(JSON.parse(e.responseText)),a.each(JSON.parse(e.responseText),function(a,e){console.log(o.find("#"+a.charAt(0).toLowerCase()+a.slice(1))),o.find("#"+a.charAt(0).toLowerCase()+a.slice(1)).parent().addClass("has-error")})}})}document.body.style.opacity=1,document.body.style.overflowX="auto";var t=a(".find-jobs"),o=a(".find-candidates"),n=a(".search-resume"),s=a(".search-location"),l=a(".search-location-result"),c=a(".search-join-result"),i=a(".search-job"),r="",p="",u="";t.on("click",function(a){a.preventDefault(),i.val()&&s.val()?window.location.assign('/app/jobs/search?query={"value":"'+i.val()+'","label":"'+i.val()+' "}&region={"postalCode":"'+u+'","placeName":"'+r+'","countryCode":"'+p+'"}'):(i.val()||s.val())&&(i.val()?window.location.assign('/app/jobs/search?query={"value":"'+i.val()+'","label":"'+i.val()+' "}&page=1'):window.location.assign('/app/jobs/search?region={"postalCode":"'+u+'","placeName":"'+r+'","countryCode":"'+p+'"}'))}),o.on("click",function(a){a.preventDefault(),n.val()&&s.val()?window.location.assign("/app/resumes/search?query="+n.val()+'&region={"postalCode":"'+u+'","placeName":"'+r+'","countryCode":"'+p+'"}'):(n.val()||s.val())&&(n.val()?window.location.assign("/app/resumes/search?query="+n.val()):window.location.assign('/app/resumes/search?region={"postalCode":"'+u+'","placeName":"'+r+'","countryCode":"'+p+'"}'))}),s.on("input",function(e){a.ajax({url:"/geonames/api/v1/postalCodeSearch?code="+s.val()+"&limit=10&offset=0&ts=1537243225989",type:"GET",success:function(e){if(s.val().length){l.css("display","block");var t=a("<div></div>");e.forEach(function(a){t.append('<span class="margin-bottom-10 pointer btn-block" data-place-name="'+a.placeName+'" data-place-postal="'+a.postalCode+'" data-place-country="'+a.countryCode+'">'+a.placeName+" "+a.postalCode+", "+a.countryCode+"<br></span>")}),e.length?(l.html(t),l.on("click","span",function(e){e.preventDefault(),e.stopPropagation(),s.val(a(this)[0].dataset.placeName+" "+a(this)[0].dataset.placePostal+", "+a(this)[0].dataset.placeCountry),r=a(this)[0].dataset.placeName,u=a(this)[0].dataset.placePostal,p=a(this)[0].dataset.placeCountry,l.css("display","none")})):l.html("Nothing found")}else l.css("display","none")}})}),i.on("input",function(e){a.ajax({url:"/api/Job/search?query="+i.val(),type:"GET",success:function(e){if(i.val().length){c.css("display","block");var t=a("<div></div>");e.content.forEach(function(a){t.append('<span class="margin-bottom-10 pointer btn-block" data-title="'+a.title+'">'+(a.title?a.title+" - ":"")+'<span class="small text-muted">'+a.title+"</span><br></span>")}),e.content.length?(c.html(t),c.on("click","span",function(e){e.preventDefault(),e.stopPropagation(),i.val(a(this)[0].dataset.title),c.css("display","none")})):c.html("Nothing found")}else c.css("display","none")}})});var d=a("#login-form"),f=a("#company-form");d.submit(function(a){$this=this,e(a,$this)}),f.submit(function(a){$this=this,e(a,$this)});var h=a("#company-video"),y=a("#video-thumbnail"),v=a("#play-btn");h.on("canplay",function(){y[0].style.zIndex="-1"}),h.on("play",function(){v[0].style.display="none",h[0].controls=!0}),h.on("pause",function(){v[0].style.display="block",h[0].controls=!1}),v.on("click",function(){h[0].play()})})}(jQuery);